import{_ as i,c as e,o as l,ae as s}from"./chunks/framework.Dh1jimFm.js";const k=JSON.parse('{"title":"week5 - 脚手架创建项目流程设计和开发","description":"","frontmatter":{},"headers":[],"relativePath":"article/架构师课程/week5-笔记.md","filePath":"article/架构师课程/week5-笔记.md","lastUpdated":1743862747000}'),t={name:"article/架构师课程/week5-笔记.md"};function o(n,a,h,r,d,p){return l(),e("div",null,a[0]||(a[0]=[s(`<p>[TOC]</p><h1 id="week5-脚手架创建项目流程设计和开发" tabindex="-1">week5 - 脚手架创建项目流程设计和开发 <a class="header-anchor" href="#week5-脚手架创建项目流程设计和开发" aria-label="Permalink to &quot;week5 - 脚手架创建项目流程设计和开发&quot;">​</a></h1><h2 id="_01-本周导学" tabindex="-1">01-本周导学 <a class="header-anchor" href="#_01-本周导学" aria-label="Permalink to &quot;01-本周导学&quot;">​</a></h2><h3 id="将收获什么" tabindex="-1">将收获什么 <a class="header-anchor" href="#将收获什么" aria-label="Permalink to &quot;将收获什么&quot;">​</a></h3><ul><li>命令行交互方法</li><li>服务端框架egg.js的应用和API开发方法</li><li>egg.js集成云mongodb</li></ul><h3 id="主要内容" tabindex="-1">主要内容 <a class="header-anchor" href="#主要内容" aria-label="Permalink to &quot;主要内容&quot;">​</a></h3><ul><li>脚手架项目创建功能架构设计</li><li>通过命令行交互获取项目基本信息</li><li>egg.js+云mongodb的集成</li><li>开发前端项目模板</li><li>egg.js获取项目模板API开发</li><li>项目模板下载功能开发</li></ul><h3 id="附赠内容" tabindex="-1">附赠内容 <a class="header-anchor" href="#附赠内容" aria-label="Permalink to &quot;附赠内容&quot;">​</a></h3><ul><li>inquirer源码解析——彻底搞懂命令行交互 <ul><li>实现一个可交互的命令行列表 <ul><li>readline</li><li>events</li><li>mute-stream</li><li>rxjs</li><li>ansi-escapes</li></ul></li></ul></li></ul><h3 id="关键词" tabindex="-1">关键词 <a class="header-anchor" href="#关键词" aria-label="Permalink to &quot;关键词&quot;">​</a></h3><ul><li>命令行交互</li><li>egg.js</li><li>mongodb</li></ul><h3 id="学习方法" tabindex="-1">学习方法 <a class="header-anchor" href="#学习方法" aria-label="Permalink to &quot;学习方法&quot;">​</a></h3><ul><li>保持OPEN：本章知识量巨大，认知上限将不断被冲破，需要保持OPEN心态不断吸收新知识</li></ul><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h3><ul><li>本章难度与上周相似，但是新的知识点非常多，需要大家保持耐心，循序渐进</li><li>实践，实践，再实践！</li><li>参与作业打卡，这是自我复盘、相互交流的有效手段，地址：<a href="https://github.com/imooc-lego/students-learn-task" target="_blank" rel="noreferrer">https://github.com/imooc-lego/students-learn-task</a></li></ul><h3 id="本周作业" tabindex="-1">本周作业 <a class="header-anchor" href="#本周作业" aria-label="Permalink to &quot;本周作业&quot;">​</a></h3><ul><li>基本：参考视频，实现脚手架创建项目功能</li><li>进阶： <ul><li>自主完成readline核心源码分析</li><li>自主完成命令行可交互列表组件开发</li></ul></li></ul><h2 id="_02-脚手架创建项目功能架构设计" tabindex="-1">02-脚手架创建项目功能架构设计 <a class="header-anchor" href="#_02-脚手架创建项目功能架构设计" aria-label="Permalink to &quot;02-脚手架创建项目功能架构设计&quot;">​</a></h2><p>架构背后的思考</p><ol><li>可扩展：能够快速复用到不同团队，适应不同团队之间的差异</li><li>低成本：在不改动脚手架源码的情况下，能够新增模板，且新增模板的成本很低</li><li>高性能：控制存储空间，安装时充分利用 Node 多进程提升安装性能</li></ol><h3 id="架构设计图" tabindex="-1">架构设计图 <a class="header-anchor" href="#架构设计图" aria-label="Permalink to &quot;架构设计图&quot;">​</a></h3><p>脚手架项目创建功能架构设计图：</p><p><img src="https://oss-1252175178.cos.ap-shanghai.myqcloud.com/%E6%85%95%E8%AF%BE%E7%BD%91%E6%9E%B6%E6%9E%84%E5%B8%88%E8%AF%BE%E7%A8%8B/%E8%84%9A%E6%89%8B%E6%9E%B6-%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF%E5%AE%89%E8%A3%85%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.jpeg" alt="图片描述"></p><p>整体过程可以分为三个阶段：</p><ul><li>准备阶段</li><li>下载模板</li><li>安装模板</li></ul><h3 id="准备阶段" tabindex="-1">准备阶段 <a class="header-anchor" href="#准备阶段" aria-label="Permalink to &quot;准备阶段&quot;">​</a></h3><p>准备阶段的核心工作是：</p><ol><li>确保项目的安装环境</li><li>确认项目的基本信息</li></ol><blockquote><p>项目的基本信息应该预先确认，否则安装过程中中断会非常影响用户体验</p></blockquote><p>此阶段需要借助命令行交互库 inquirer 来完成项目信息的收集</p><h3 id="下载模板" tabindex="-1">下载模板 <a class="header-anchor" href="#下载模板" aria-label="Permalink to &quot;下载模板&quot;">​</a></h3><p>下载模板是利用已经封装 Package 类快速实现相关功能</p><h3 id="安装模板" tabindex="-1">安装模板 <a class="header-anchor" href="#安装模板" aria-label="Permalink to &quot;安装模板&quot;">​</a></h3><p>安装模板分为标准模式和自定义模式：</p><ol><li>标准模式下，将通过 ejs 实现模板渲染，并自动安装依赖并启动项目</li><li>自定义模式下，将允许用户主动去实现模板的安装过程和后续启动流程</li></ol><h2 id="_03-egg-js-云mongodb快速入门" tabindex="-1">03-egg.js+云mongodb快速入门 <a class="header-anchor" href="#_03-egg-js-云mongodb快速入门" aria-label="Permalink to &quot;03-egg.js+云mongodb快速入门&quot;">​</a></h2><h3 id="egg-js" tabindex="-1">egg.js <a class="header-anchor" href="#egg-js" aria-label="Permalink to &quot;egg.js&quot;">​</a></h3><h4 id="官网" tabindex="-1">官网 <a class="header-anchor" href="#官网" aria-label="Permalink to &quot;官网&quot;">​</a></h4><p>官网地址：<a href="https://eggjs.org/zh-cn/" target="_blank" rel="noreferrer">https://eggjs.org/zh-cn/</a></p><h4 id="初始化" tabindex="-1">初始化 <a class="header-anchor" href="#初始化" aria-label="Permalink to &quot;初始化&quot;">​</a></h4><p>初始化和项目启动方法：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 初始化</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> egg-example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> egg-example</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> egg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type=simple</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 项目启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:7001</span></span></code></pre></div><p>大家可以试试：<code>npm init imooc-cli</code> 有惊喜</p><blockquote><p>思考：为什么 npm init egg 可以初始化 egg 项目？（实际调用npm包：create-egg）</p></blockquote><h3 id="云mongodb" tabindex="-1">云mongodb <a class="header-anchor" href="#云mongodb" aria-label="Permalink to &quot;云mongodb&quot;">​</a></h3><h4 id="云mongodb开通" tabindex="-1">云mongodb开通 <a class="header-anchor" href="#云mongodb开通" aria-label="Permalink to &quot;云mongodb开通&quot;">​</a></h4><p>地址：<a href="https://mongodb.console.aliyun.com/%EF%BC%8C%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B%E5%B9%B6%E4%BB%98%E6%AC%BE%E5%8D%B3%E5%8F%AF" target="_blank" rel="noreferrer">https://mongodb.console.aliyun.com/，创建实例并付款即可</a></p><h4 id="本地mongodb安装" tabindex="-1">本地mongodb安装 <a class="header-anchor" href="#本地mongodb安装" aria-label="Permalink to &quot;本地mongodb安装&quot;">​</a></h4><p>地址：<a href="https://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" rel="noreferrer">https://www.runoob.com/mongodb/mongodb-tutorial.html</a></p><h4 id="mongodb使用方法" tabindex="-1">mongodb使用方法 <a class="header-anchor" href="#mongodb使用方法" aria-label="Permalink to &quot;mongodb使用方法&quot;">​</a></h4><p>地址：<a href="https://www.runoob.com/mongodb/mongodb-databases-documents-collections.html" target="_blank" rel="noreferrer">https://www.runoob.com/mongodb/mongodb-databases-documents-collections.html</a></p>`,51)]))}const c=i(t,[["render",o]]);export{k as __pageData,c as default};
