<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS异步进阶 | 前端AK君</title>
    <meta name="description" content="系统性学习，打造完善的知识体系">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.BWEDHvBA.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.MPeCNrh7.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.pzRtXwNK.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Dh1jimFm.js">
    <link rel="modulepreload" href="/assets/article_前端基础_JS进阶_JS异步进阶.md.BHzhYTpL.lean.js">
    <link rel="icon" href="/imgs/favicon.ico">
    <link rel="apple-touch-icon" href="/imgs/logo.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4e0580c9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-76b2d3b6></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-76b2d3b6>Skip to content</a><!--]--><!----><header class="VPNav" data-v-4e0580c9 data-v-65aa0d71><div class="VPNavBar" data-v-65aa0d71 data-v-a22fa644><div class="wrapper" data-v-a22fa644><div class="container" data-v-a22fa644><div class="title" data-v-a22fa644><div class="VPNavBarTitle has-sidebar" data-v-a22fa644 data-v-023504db><a class="title" href="/" data-v-023504db><!--[--><!--]--><!--[--><img class="VPImage logo" src="/imgs/logo.png" alt data-v-410bb4c7><!--]--><span data-v-023504db>前端AK君</span><!--[--><!--]--></a></div></div><div class="content" data-v-a22fa644><div class="content-body" data-v-a22fa644><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a22fa644><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a22fa644 data-v-589d1911><span id="main-nav-aria-label" class="visually-hidden" data-v-589d1911> Main Navigation </span><!--[--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a22fa644 data-v-ae201a57><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-ae201a57 data-v-2d6d62a8 data-v-f3e9724b><span class="check" data-v-f3e9724b><span class="icon" data-v-f3e9724b><!--[--><span class="vpi-sun sun" data-v-2d6d62a8></span><span class="vpi-moon moon" data-v-2d6d62a8></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a22fa644 data-v-819269e2 data-v-8e2750ee><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kongyajie/" aria-label="github" target="_blank" rel="noopener" data-v-8e2750ee data-v-14a72ee3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a22fa644 data-v-13e0a807 data-v-c9f6b993><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-c9f6b993><span class="vpi-more-horizontal icon" data-v-c9f6b993></span></button><div class="menu" data-v-c9f6b993><div class="VPMenu" data-v-c9f6b993 data-v-b5c661f9><!----><!--[--><!--[--><!----><div class="group" data-v-13e0a807><div class="item appearance" data-v-13e0a807><p class="label" data-v-13e0a807>Appearance</p><div class="appearance-action" data-v-13e0a807><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-13e0a807 data-v-2d6d62a8 data-v-f3e9724b><span class="check" data-v-f3e9724b><span class="icon" data-v-f3e9724b><!--[--><span class="vpi-sun sun" data-v-2d6d62a8></span><span class="vpi-moon moon" data-v-2d6d62a8></span><!--]--></span></span></button></div></div></div><div class="group" data-v-13e0a807><div class="item social-links" data-v-13e0a807><div class="VPSocialLinks social-links-list" data-v-13e0a807 data-v-8e2750ee><!--[--><a class="VPSocialLink no-icon" href="https://github.com/kongyajie/" aria-label="github" target="_blank" rel="noopener" data-v-8e2750ee data-v-14a72ee3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a22fa644 data-v-2fa31341><span class="container" data-v-2fa31341><span class="top" data-v-2fa31341></span><span class="middle" data-v-2fa31341></span><span class="bottom" data-v-2fa31341></span></span></button></div></div></div></div><div class="divider" data-v-a22fa644><div class="divider-line" data-v-a22fa644></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-4e0580c9 data-v-fc9b0a19><div class="container" data-v-fc9b0a19><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-fc9b0a19><span class="vpi-align-left menu-icon" data-v-fc9b0a19></span><span class="menu-text" data-v-fc9b0a19>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-fc9b0a19 data-v-66ef8359><button data-v-66ef8359>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-4e0580c9 data-v-cc53676b><div class="curtain" data-v-cc53676b></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-cc53676b><span class="visually-hidden" id="sidebar-aria-label" data-v-cc53676b> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-3f33125d><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-3f33125d data-v-178d1c1e><div class="item" role="button" tabindex="0" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><h2 class="text" data-v-178d1c1e>JS进阶</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-178d1c1e><span class="vpi-chevron-right caret-icon" data-v-178d1c1e></span></div></div><div class="items" data-v-178d1c1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E8%BF%9B%E9%98%B6%E7%B3%BB%E5%88%97.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS进阶系列</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E6%A6%82%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E7%B1%BB%E5%9E%8B.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E5%8E%9F%E5%9E%8B%E5%8E%9F%E5%9E%8B%E9%93%BE.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS原型原型链</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS执行机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS异步编程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS异步进阶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS异常处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E7%B2%BE%E9%80%89%E9%A2%98%E9%9B%86.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>JS精选题集</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E7%BC%96%E7%A8%8B/%E6%80%BB%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>总览</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3f33125d><section class="VPSidebarItem level-0 collapsible collapsed" data-v-3f33125d data-v-178d1c1e><div class="item" role="button" tabindex="0" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><h2 class="text" data-v-178d1c1e>前端基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-178d1c1e><span class="vpi-chevron-right caret-icon" data-v-178d1c1e></span></div></div><div class="items" data-v-178d1c1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/CSS/CSS-float%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%92%8C%E6%B5%81%E7%9A%84%E7%A0%B4%E5%9D%8F%E4%B8%8E%E4%BF%9D%E6%8A%A4.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>CSS-float的工作原理和流的破坏与保护</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%BB%8B%E7%BB%8D.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>浏览器工作原理系列介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B1-%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>1-发展历史</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B2-%E9%A1%B5%E9%9D%A2%E5%BE%AA%E7%8E%AF%E7%B3%BB%E7%BB%9F.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>2-页面循环系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B3-%E5%A6%82%E4%BD%95%E4%BB%8EURL%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%98%BE%E7%A4%BA%E7%9A%84%EF%BC%9F.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>3-如何从URL到页面显示的</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B4-%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%EF%BC%9F.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>4-如何进行性能优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B5-%E5%A6%82%E4%BD%95%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E8%AE%AF%EF%BC%9F.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>5-如何与服务器通讯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B6-%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AE%89%E5%85%A8%EF%BC%9F.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>6-如何保证浏览器安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%B3%BB%E5%88%97%E4%B9%8B7-%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E6%96%B9%E5%90%91%EF%BC%9F.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>7-未来发展方向</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3f33125d><section class="VPSidebarItem level-0 collapsible collapsed" data-v-3f33125d data-v-178d1c1e><div class="item" role="button" tabindex="0" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><h2 class="text" data-v-178d1c1e>前端框架</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-178d1c1e><span class="vpi-chevron-right caret-icon" data-v-178d1c1e></span></div></div><div class="items" data-v-178d1c1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/vue/Vue%E7%B3%BB%E5%88%97%E4%B9%8B1-%E6%A6%82%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>Vue系列之1-概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/vue/Vue%E7%B3%BB%E5%88%97%E4%B9%8B2-%E4%BD%BF%E7%94%A8.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>Vue系列之2-使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/vue/Vue%E7%B3%BB%E5%88%97%E4%B9%8B3-%E5%91%A8%E8%BE%B9%E5%B7%A5%E5%85%B7.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>Vue系列之3-周边工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/vue/Vue%E7%B3%BB%E5%88%97%E4%B9%8B4-%E5%8E%9F%E7%90%86.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>Vue系列之4-原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/vue/Vue%E7%B3%BB%E5%88%97%E4%B9%8B5-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>Vue系列之5-常见问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/vue/Vue%E7%B3%BB%E5%88%97%E4%B9%8B6-Vue3.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>Vue系列之6-Vue3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react/React%E7%B3%BB%E5%88%97%E4%B9%8B1-%E6%A6%82%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>React系列之1-概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react/React%E7%B3%BB%E5%88%97%E4%B9%8B2-%E4%BD%BF%E7%94%A8.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>React系列之2-使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react/React%E7%B3%BB%E5%88%97%E4%B9%8B3-%E5%91%A8%E8%BE%B9%E5%B7%A5%E5%85%B7.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>React系列之3-周边工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react/React%E7%B3%BB%E5%88%97%E4%B9%8B4-%E5%8E%9F%E7%90%86.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>React系列之4-原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react/React%E7%B3%BB%E5%88%97%E4%B9%8B5-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>React系列之5-常见问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react/React%E7%B3%BB%E5%88%97%E4%B9%8B6-hooks.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>React系列之6-hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/webpack/webpack.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>webpack</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/webpack/webpack%E5%88%86%E4%BA%AB.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>webpack分享</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3f33125d><section class="VPSidebarItem level-0 collapsible collapsed" data-v-3f33125d data-v-178d1c1e><div class="item" role="button" tabindex="0" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><h2 class="text" data-v-178d1c1e>数据结构与算法</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-178d1c1e><span class="vpi-chevron-right caret-icon" data-v-178d1c1e></span></div></div><div class="items" data-v-178d1c1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%80%BB%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>总览</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3f33125d><section class="VPSidebarItem level-0 collapsible collapsed" data-v-3f33125d data-v-178d1c1e><div class="item" role="button" tabindex="0" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><h2 class="text" data-v-178d1c1e>设计模式</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-178d1c1e><span class="vpi-chevron-right caret-icon" data-v-178d1c1e></span></div></div><div class="items" data-v-178d1c1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%80%BB%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>总览</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3f33125d><section class="VPSidebarItem level-0 collapsible collapsed" data-v-3f33125d data-v-178d1c1e><div class="item" role="button" tabindex="0" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><h2 class="text" data-v-178d1c1e>前端自检</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-178d1c1e><span class="vpi-chevron-right caret-icon" data-v-178d1c1e></span></div></div><div class="items" data-v-178d1c1e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E8%87%AA%E6%A3%80/%E6%80%BB%E8%A7%88.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E7%BB%BC%E5%90%88/%E3%80%90%E8%87%AA%E6%A3%80%E3%80%91%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E6%B8%85%E5%8D%95.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>【自检】前端知识清单</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-178d1c1e data-v-178d1c1e><div class="item" data-v-178d1c1e><div class="indicator" data-v-178d1c1e></div><a class="VPLink link link" href="/article/%E7%BB%BC%E5%90%88/%E3%80%90%E8%87%AA%E6%A3%80%E3%80%91%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E6%B8%85%E5%8D%95%EF%BC%88%E9%99%84%E8%A7%A3%E7%AD%94%EF%BC%89.html" data-v-178d1c1e><!--[--><p class="text" data-v-178d1c1e>【自检】前端知识清单（附解答）</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4e0580c9 data-v-8233baff><div class="VPDoc has-sidebar has-aside" data-v-8233baff data-v-3ddcd6ca><!--[--><!--]--><div class="container" data-v-3ddcd6ca><div class="aside" data-v-3ddcd6ca><div class="aside-curtain" data-v-3ddcd6ca></div><div class="aside-container" data-v-3ddcd6ca><div class="aside-content" data-v-3ddcd6ca><div class="VPDocAside" data-v-3ddcd6ca data-v-dea7a18d><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-dea7a18d data-v-7824067e><div class="content" data-v-7824067e><div class="outline-marker" data-v-7824067e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-7824067e>On this page</div><ul class="VPDocOutlineItem root" data-v-7824067e data-v-d0385b5f><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-dea7a18d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3ddcd6ca><div class="content-container" data-v-3ddcd6ca><!--[--><!--]--><main class="main" data-v-3ddcd6ca><div style="position:relative;" class="vp-doc _article_%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80_JS%E8%BF%9B%E9%98%B6_JS%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6" data-v-3ddcd6ca><div><h1 id="js异步进阶" tabindex="-1">JS异步进阶 <a class="header-anchor" href="#js异步进阶" aria-label="Permalink to &quot;JS异步进阶&quot;">​</a></h1><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>本文分为以下几个部分：</p><ul><li>为什么需要异步？</li><li>异步的实现机制？EventLoop？</li><li>宏任务和微任务？</li><li>异步的演化</li></ul><h2 id="一、异步基础" tabindex="-1">一、异步基础 <a class="header-anchor" href="#一、异步基础" aria-label="Permalink to &quot;一、异步基础&quot;">​</a></h2><h3 id="为什么需要异步" tabindex="-1">为什么需要异步 <a class="header-anchor" href="#为什么需要异步" aria-label="Permalink to &quot;为什么需要异步&quot;">​</a></h3><p>JS设计为单线程，同步会阻塞代码的执行，异步不会阻塞代码的执行</p><h3 id="异步的使用场景" tabindex="-1">异步的使用场景 <a class="header-anchor" href="#异步的使用场景" aria-label="Permalink to &quot;异步的使用场景&quot;">​</a></h3><ul><li>网络请求，如Ajax请求</li><li>定时任务，如setTimeout</li></ul><h3 id="promise的基本使用" tabindex="-1">Promise的基本使用 <a class="header-anchor" href="#promise的基本使用" aria-label="Permalink to &quot;Promise的基本使用&quot;">​</a></h3><p>问题：回调地狱 promise的好处：窜行的方式代替回调嵌套</p><h2 id="二、异步编程的演化" tabindex="-1">二、异步编程的演化 <a class="header-anchor" href="#二、异步编程的演化" aria-label="Permalink to &quot;二、异步编程的演化&quot;">​</a></h2><ul><li>callback</li><li>promise</li><li>generator</li><li>async/await</li></ul><h3 id="callback" tabindex="-1">callback <a class="header-anchor" href="#callback" aria-label="Permalink to &quot;callback&quot;">​</a></h3><p>高阶函数：接受函数作为参数的函数</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;callback&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>比如下面的高阶函数例子：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>高阶函数中的函数参数被执行，就是回调，异步编程中回调是非常常见的编程范式。</p><p>但是会有回调地狱的问题，造成阅读困难，我们可以通过将函数进行提取缓解，但依然很难阅读。</p><p>为了解决这个问题，JS引入了 <strong>promise</strong></p><h3 id="promise" tabindex="-1">Promise <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;Promise&quot;">​</a></h3><p>promise 有三个状态：<code>pending</code> <code>fulfilled</code> <code>rejected</code> ，默认状态是 <code>pending</code></p><p>promise 内部可以通过 <code>resolve()</code> 修改状态为<code> fulfilled</code>，或<code> reject()</code> 修改状态为 <code>rejected</code></p><p>修改状态为 fulfilled 会触发 promise.then() 修改状态为 rejected 会触发 promise.catch()</p><p>因此我们可以把成功的回调处理函数传入 promise.then()，报错的回调处理函数放入 promise.catch()</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolved</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">rejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  resolved</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>promise 还支持链式调用，可以简化代码</p><p>但是毕竟还是异步的思维，于是ES7引入了 Async/Await ，一步到位</p><p>async 放在函数前，表示返回的是一个包裹了返回值的 promise，同时告诉JS引擎内部可能有异步函数调用 await 一定要配合 async 才能使用，不然会报错</p><p><strong>有了 async/await 组合，我们可以使用同步的写法来处理异步调用了</strong></p><p>错误处理可以用 <code>try{} catch(){}</code></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="async-await" tabindex="-1">async/await <a class="header-anchor" href="#async-await" aria-label="Permalink to &quot;async/await&quot;">​</a></h3><p>同步语法，彻底消灭回调函数</p><h3 id="_1、async-await-使用" tabindex="-1">1、async/await 使用 <a class="header-anchor" href="#_1、async-await-使用" aria-label="Permalink to &quot;1、async/await 使用&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// async function() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//   await </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// }</span></span></code></pre></div><h3 id="_2、async-await-和-promise-的关系" tabindex="-1">2、async/await 和 Promise 的关系 <a class="header-anchor" href="#_2、async-await-和-promise-的关系" aria-label="Permalink to &quot;2、async/await 和 Promise 的关系&quot;">​</a></h3><ul><li>执行async函数，返回的是一个Promise对象</li><li>await 相当于 promise 的 then</li><li>try...catch可捕获异常，代替了 promise 的 catch</li></ul><h3 id="_3、async-await是语法糖-异步的本质还是回调函数" tabindex="-1">3、async/await是语法糖，异步的本质还是回调函数 <a class="header-anchor" href="#_3、async-await是语法糖-异步的本质还是回调函数" aria-label="Permalink to &quot;3、async/await是语法糖，异步的本质还是回调函数&quot;">​</a></h3><ul><li>async 函数会同步执行</li><li>await 的后面，都可以看成是 callback 里的内容，即异步</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;async1 start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;async1 end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;async2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">async1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="_4、for-of-的应用场景" tabindex="-1">4、for...of 的应用场景 <a class="header-anchor" href="#_4、for-of-的应用场景" aria-label="Permalink to &quot;4、for...of 的应用场景&quot;">​</a></h3><ul><li>forEach for...in 同步</li><li>for...of 支持异步</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> multiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// forEach 是同步的，因此1秒后，全部输出</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> multiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// for...of 支持异步，1秒输出一个数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> multiple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="三、宏任务和微任务" tabindex="-1">三、宏任务和微任务 <a class="header-anchor" href="#三、宏任务和微任务" aria-label="Permalink to &quot;三、宏任务和微任务&quot;">​</a></h2><h3 id="什么是宏任务-什么是微任务" tabindex="-1">什么是宏任务，什么是微任务？ <a class="header-anchor" href="#什么是宏任务-什么是微任务" aria-label="Permalink to &quot;什么是宏任务，什么是微任务？&quot;">​</a></h3><ul><li>宏任务：SetTimeout、Ajax、I/O、DOM事件</li><li>微任务：Promise、Async/Await</li></ul><h3 id="为什么要加入微任务" tabindex="-1">为什么要加入微任务？ <a class="header-anchor" href="#为什么要加入微任务" aria-label="Permalink to &quot;为什么要加入微任务？&quot;">​</a></h3><p>宏任务的时间粒度比较大，执行的时间间隔是不能精确控制的，对一些高实时性的需求就不太符合了，比如监听 DOM 的变化。</p><p>监听 DOM 变化技术方案的演化史</p><ol><li>轮询</li><li>Mutation Event</li><li>Mutation Observer（采用微任务机制，有效地权衡了实时性和执行效率的问题）</li></ol><h3 id="eventloop-和-dom渲染" tabindex="-1">Eventloop 和 DOM渲染 <a class="header-anchor" href="#eventloop-和-dom渲染" aria-label="Permalink to &quot;Eventloop 和 DOM渲染&quot;">​</a></h3><p>eventloop过程：</p><ol><li>执行当前同步代码，</li><li>callstack空闲，检查当前宏任务的微任务队列，并依次执行</li><li>尝试DOM渲染</li><li>触发EventLoop，从消息队列中获取宏任务并执行</li></ol><h3 id="宏任务和微任务的区别" tabindex="-1">宏任务和微任务的区别 <a class="header-anchor" href="#宏任务和微任务的区别" aria-label="Permalink to &quot;宏任务和微任务的区别&quot;">​</a></h3><ul><li><strong>本质：宏任务是由浏览器规定的、微任务是ES6语法规定的</strong></li><li><strong>在EventLoop中的位置：微任务在DOM渲染前触发；宏任务在DOM渲染后触发</strong></li><li>实现原理：微任务会被放入当前<strong>执行栈的微任务队列</strong>中，执行时机是在主函数执行结束之后、当前宏任务结束之前执行回调函数；宏任务是把异步回调函数封装成一个宏任务，添加到消息队列尾部，当循环系统执行到该任务的时候执行回调函数</li></ul><h3 id="settimeout的实现原理" tabindex="-1">setTimeout的实现原理 <a class="header-anchor" href="#settimeout的实现原理" aria-label="Permalink to &quot;setTimeout的实现原理&quot;">​</a></h3><p>渲染进程内部的延迟执行队列</p><h3 id="ajax的实现原理" tabindex="-1">ajax的实现原理 <a class="header-anchor" href="#ajax的实现原理" aria-label="Permalink to &quot;ajax的实现原理&quot;">​</a></h3><p><img src="https://static001.geekbang.org/resource/image/29/c6/2914a052f4f249a52077692a22ee5cc6.png" alt=""></p><p>执行流程：</p><ol><li>利用IPC和网络进程通讯</li><li>网络进程发送网络请求到服务器</li><li>网络进程收到服务器返回的消息，将消息体封装起来加入到消息队列中</li><li>等当前执行栈空时，从消息队列中取出并执行</li></ol><h2 id="问答题" tabindex="-1">问答题： <a class="header-anchor" href="#问答题" aria-label="Permalink to &quot;问答题：&quot;">​</a></h2><h3 id="eventloop的机制" tabindex="-1">EventLoop的机制 <a class="header-anchor" href="#eventloop的机制" aria-label="Permalink to &quot;EventLoop的机制&quot;">​</a></h3><blockquote><p>EventLoop 是 JS异步回调的实现机制</p></blockquote><p>eventloop 执行过程：</p><ol><li>首先执行同步代码</li><li>遇到异步调用，如setTimeout或ajax请求等web api时，则交由浏览器的其他进程或线程处理，继续执行同步代码</li><li>异步调用处理完毕后，会将回调加入到回调队列中，等到同步代码执行完毕，会依次从回调队列取出并加入到执行栈中执行</li></ol><h3 id="promise-有哪三种状态-如何变化" tabindex="-1">Promise 有哪三种状态？如何变化？ <a class="header-anchor" href="#promise-有哪三种状态-如何变化" aria-label="Permalink to &quot;Promise 有哪三种状态？如何变化？&quot;">​</a></h3><h4 id="三种状态" tabindex="-1">三种状态： <a class="header-anchor" href="#三种状态" aria-label="Permalink to &quot;三种状态：&quot;">​</a></h4><ul><li>pending resolved rejected</li><li>pending -&gt; resolved 或 pending -&gt; rejected</li><li>变化不可逆</li></ul><h4 id="状态的表现" tabindex="-1">状态的表现 <a class="header-anchor" href="#状态的表现" aria-label="Permalink to &quot;状态的表现&quot;">​</a></h4><ul><li>resolved 会触发 then 回调函数</li><li>rejected 会触发 catch 回调函数</li></ul><h4 id="then和catch状态改变规则-重要" tabindex="-1">then和catch状态改变规则（重要） <a class="header-anchor" href="#then和catch状态改变规则-重要" aria-label="Permalink to &quot;then和catch状态改变规则（重要）&quot;">​</a></h4><ul><li><code>Promise.then</code> 正常返回 <code>resolved</code> ，里面有报错则返回 <code>rejected</code></li><li><code>Promise.catch</code> 正常返回 <code>resolved</code> ，里面有报错则返回 <code>rejected</code></li></ul><h2 id="场景题" tabindex="-1">场景题 <a class="header-anchor" href="#场景题" aria-label="Permalink to &quot;场景题&quot;">​</a></h2><h3 id="场景题1-promise-then和catch的连接" tabindex="-1">场景题1：promise then和catch的连接 <a class="header-anchor" href="#场景题1-promise-then和catch的连接" aria-label="Permalink to &quot;场景题1：promise then和catch的连接&quot;">​</a></h3><p>第一题：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>第二题：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;error1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>第三题：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;err&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="场景题2-async-await语法" tabindex="-1">场景题2：async/await语法 <a class="header-anchor" href="#场景题2-async-await语法" aria-label="Permalink to &quot;场景题2：async/await语法&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, a)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, b)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;c&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, c)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})()</span></span></code></pre></div><h3 id="场景题3-promise-和-settimeout-的顺序" tabindex="-1">场景题3：promise 和 setTimeout 的顺序 <a class="header-anchor" href="#场景题3-promise-和-settimeout-的顺序" aria-label="Permalink to &quot;场景题3：promise 和 setTimeout 的顺序&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="场景题4-外加async-await的顺序问题" tabindex="-1">场景题4：外加async/await的顺序问题 <a class="header-anchor" href="#场景题4-外加async-await的顺序问题" aria-label="Permalink to &quot;场景题4：外加async/await的顺序问题&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;async1 start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;async1 end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;async2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">async1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="图片请求" tabindex="-1">图片请求 <a class="header-anchor" href="#图片请求" aria-label="Permalink to &quot;图片请求&quot;">​</a></h3><p><a href="https://codepen.io/RealAaron/pen/BadJodP?editors=1011" target="_blank" rel="noreferrer">codepen</a></p><h3 id="ajax请求封装" tabindex="-1">Ajax请求封装 <a class="header-anchor" href="#ajax请求封装" aria-label="Permalink to &quot;Ajax请求封装&quot;">​</a></h3><p>TODO...</p><h3 id="模拟红绿灯" tabindex="-1">模拟红绿灯 <a class="header-anchor" href="#模拟红绿灯" aria-label="Permalink to &quot;模拟红绿灯&quot;">​</a></h3><p><a href="https://codepen.io/RealAaron/pen/abyEBqx" target="_blank" rel="noreferrer">codepen</a></p><h3 id="手写promise" tabindex="-1">手写Promise <a class="header-anchor" href="#手写promise" aria-label="Permalink to &quot;手写Promise&quot;">​</a></h3><ul><li>初始化 &amp; 异步调用</li><li>then catch 链式调用</li><li>API .resolve .reject .all .race</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@description</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> MyPromise</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Aaron</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 状态 pending fulfilled rejected</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 成功后的值</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  reason</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 失败后的原因</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  resolveCallbacks</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  rejectCallbacks</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 传入有异步操作的函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolveHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fulfilled&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.resolveCallbacks.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rejectHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rejected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reason </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reason;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.rejectCallbacks.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reason));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resolveHandler, rejectHandler); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 跑异步代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      rejectHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fn1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fn2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 当pending状态时，fn1和fn2会保存在callbacks中</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fn1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fn1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;function&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fn1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fn2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fn2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;function&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fn2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.resolveCallbacks.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.value);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newValue);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.rejectCallbacks.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newReason</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reason);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newReason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fulfilled&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.value);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newValue)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rejected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newReason</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reason);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newReason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 就是 then 的一个语法糖，简单模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fn)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reason));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">promiseList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 存储所有的返回结果</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> promiseList.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolveCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    promiseList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      p.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result[index] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意：这里promise resolve的结果需对应到result索引中</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        resolveCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (resolveCount </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> length) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">race</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">promiseList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolved </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 标记</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    promiseList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      p.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resolved) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          resolve </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // resolve(100)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // reject(&#39;错误信息...&#39;);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p11</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data1 &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data1);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p12</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p11.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data2 &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data2);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p13</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p12.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;错误信息...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([p1,p2]) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 传入 promise 数组，等待所有都 fulfilled 之后，返回新 Promise，包含前面所有的结果</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyPromise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">race</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([p1,p2]) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 传入 promise 数组，只要有一个 fulfilled ，即可返回</span></span></code></pre></div><p><a href="https://codepen.io/RealAaron/pen/MWvrdEQ?editors=0012" target="_blank" rel="noreferrer">codepen</a></p></div></div></main><footer class="VPDocFooter" data-v-3ddcd6ca data-v-b34a43d1><!--[--><!--]--><div class="edit-info" data-v-b34a43d1><!----><div class="last-updated" data-v-b34a43d1><p class="VPLastUpdated" data-v-b34a43d1 data-v-657fdc88>上次更新: <time datetime="2025-04-05T14:19:07.000Z" data-v-657fdc88></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-b34a43d1><span class="visually-hidden" id="doc-footer-aria-label" data-v-b34a43d1>Pager</span><div class="pager" data-v-b34a43d1><a class="VPLink link pager-link prev" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B.html" data-v-b34a43d1><!--[--><span class="desc" data-v-b34a43d1>Previous page</span><span class="title" data-v-b34a43d1>JS异步编程</span><!--]--></a></div><div class="pager" data-v-b34a43d1><a class="VPLink link pager-link next" href="/article/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/JS%E8%BF%9B%E9%98%B6/JS%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html" data-v-b34a43d1><!--[--><span class="desc" data-v-b34a43d1>Next page</span><span class="title" data-v-b34a43d1>JS异常处理</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"article_readme.md\":\"CWN1NvVk\",\"article_前端专题_总览.md\":\"BbVozbVA\",\"article_前端基础_css_css-float的工作原理和流的破坏与保护.md\":\"CHHGVm84\",\"article_前端基础_js_javascript系列之1-概览.md\":\"Cn8ditpx\",\"article_前端基础_js_javascript系列之2-运行过程.md\":\"B2IPZiMp\",\"article_前端基础_js_javascript系列之3-类型.md\":\"CcIcUrfV\",\"article_前端基础_js_javascript系列之4-原型与原型链.md\":\"CpEMfyi8\",\"article_前端基础_js_javascript系列介绍.md\":\"CAGobwZn\",\"article_前端基础_js编程_extend函数.md\":\"CLSxifkd\",\"article_前端基础_js编程_jquery的each方法.md\":\"Dju432nO\",\"article_前端基础_js编程_函数-new.md\":\"DFLU1ClZ\",\"article_前端基础_js编程_函数-手写call.md\":\"Nyods2Eu\",\"article_前端基础_js编程_函数-柯里化.md\":\"kQjBQOs1\",\"article_前端基础_js编程_原型-instanceof.md\":\"Nfii301N\",\"article_前端基础_js编程_原型-继承.md\":\"Bl0r8pic\",\"article_前端基础_js编程_实用-ajax.md\":\"40ZTxGgn\",\"article_前端基础_js编程_实用-event模块.md\":\"DY7r9zt-\",\"article_前端基础_js编程_实用-jsonp.md\":\"B24r7rJH\",\"article_前端基础_js编程_实用-vdom渲染真实dom.md\":\"8bYEH6hv\",\"article_前端基础_js编程_实用-图片懒加载.md\":\"CWcth9l4\",\"article_前端基础_js编程_实用-字符串模板解析.md\":\"DGRFT6LV\",\"article_前端基础_js编程_实用-手写响应式.md\":\"CwaqTFMm\",\"article_前端基础_js编程_实用-打印当前html元素种类.md\":\"nfw0Iqyn\",\"article_前端基础_js编程_实用-渲染大量数据.md\":\"DDn2hIj7\",\"article_前端基础_js编程_实用-滚动加载.md\":\"BCjxwISg\",\"article_前端基础_js编程_实用-防抖和节流.md\":\"DoR62gah\",\"article_前端基础_js编程_对象-assign.md\":\"BzGQaT6H\",\"article_前端基础_js编程_对象-is.md\":\"CMZ5TCSB\",\"article_前端基础_js编程_对象-冻结.md\":\"84h_h4kH\",\"article_前端基础_js编程_对象-判断空对象.md\":\"Dnv9dwaI\",\"article_前端基础_js编程_对象-扁平化.md\":\"C9siCKUT\",\"article_前端基础_js编程_对象-深度比较.md\":\"Du00O8VO\",\"article_前端基础_js编程_对象-深拷贝.md\":\"B-fbcqIC\",\"article_前端基础_js编程_异步-promise.all.md\":\"BEjAYMVS\",\"article_前端基础_js编程_异步-promise.md\":\"BeyMlPAx\",\"article_前端基础_js编程_异步-promise.race.md\":\"Bdftn-JM\",\"article_前端基础_js编程_异步-promise并行限制.md\":\"BTTobH_V\",\"article_前端基础_js编程_总览.md\":\"Cha5370P\",\"article_前端基础_js编程_数组-乱序.md\":\"8BrvNTqr\",\"article_前端基础_js编程_数组-判断是否为数组.md\":\"DDGKskMQ\",\"article_前端基础_js编程_数组-去重.md\":\"C28yKgDh\",\"article_前端基础_js编程_数组-扁平化.md\":\"DHqlXArW\",\"article_前端基础_js编程_数组-手写filter.md\":\"b2s5jEeu\",\"article_前端基础_js编程_数组-手写foreach.md\":\"kELIUALY\",\"article_前端基础_js编程_数组-手写map.md\":\"DKZfySdL\",\"article_前端基础_js编程_数组-手写reduce.md\":\"6DPhk49z\",\"article_前端基础_js编程_数组-类数组转化.md\":\"bz2KM-oA\",\"article_前端基础_js编程_解读v8排序源码.md\":\"BP7WDpQz\",\"article_前端基础_js进阶_js原型原型链.md\":\"BEOKXwap\",\"article_前端基础_js进阶_js异常处理.md\":\"PiSa-Mjf\",\"article_前端基础_js进阶_js异步编程.md\":\"BA2ypJY2\",\"article_前端基础_js进阶_js异步进阶.md\":\"BHzhYTpL\",\"article_前端基础_js进阶_js执行机制.md\":\"ByFsSr8t\",\"article_前端基础_js进阶_js整体运行过程.md\":\"juEXngWN\",\"article_前端基础_js进阶_js概览.md\":\"kn1qmpkp\",\"article_前端基础_js进阶_js模块化.md\":\"3NBCpW_h\",\"article_前端基础_js进阶_js类型.md\":\"Dj4bB7hA\",\"article_前端基础_js进阶_js精选题集.md\":\"CSOB69Bo\",\"article_前端基础_js进阶_js进阶系列.md\":\"B-XtcstN\",\"article_前端基础_js进阶_【译】一网打尽javascript的number类型.md\":\"DVsNjUr9\",\"article_前端基础_js进阶_你真的掌握变量和类型了吗（一）数据类型.md\":\"BDIgnINu\",\"article_前端基础_js进阶_你真的掌握变量和类型了吗（二）类型转换.md\":\"DJENd2yC\",\"article_前端基础_js进阶_如何写出一个惊艳面试官的深拷贝.md\":\"DYWTWQwP\",\"article_前端基础_js进阶_浮点数精度问题.md\":\"DYcbMnCc\",\"article_前端基础_浏览器_浏览器工作原理系列之1-发展历史.md\":\"DswM_F4h\",\"article_前端基础_浏览器_浏览器工作原理系列之2-页面循环系统.md\":\"Mk5PX5bh\",\"article_前端基础_浏览器_浏览器工作原理系列之3-如何从url到页面显示的？.md\":\"B-siId-u\",\"article_前端基础_浏览器_浏览器工作原理系列之4-如何进行性能优化？.md\":\"CEADFnG9\",\"article_前端基础_浏览器_浏览器工作原理系列之5-如何与服务器通讯？.md\":\"CY4_--wJ\",\"article_前端基础_浏览器_浏览器工作原理系列之6-如何保证浏览器安全？.md\":\"DVSiiCg6\",\"article_前端基础_浏览器_浏览器工作原理系列之7-未来发展方向？.md\":\"C77Wtmvx\",\"article_前端基础_浏览器_浏览器工作原理系列介绍.md\":\"_yS8p7hz\",\"article_前端框架_react.md\":\"Ch5fy0b_\",\"article_前端框架_react_react系列之1-概览.md\":\"Bs4oS4gL\",\"article_前端框架_react_react系列之2-使用.md\":\"Biiu-GNL\",\"article_前端框架_react_react系列之3-周边工具.md\":\"CrLePWFZ\",\"article_前端框架_react_react系列之4-原理.md\":\"M0YZI2PM\",\"article_前端框架_react_react系列之5-常见问题.md\":\"BKvfBMAC\",\"article_前端框架_react_react系列之6-hooks.md\":\"dIDj8dYg\",\"article_前端框架_vue.md\":\"D0mBt5dg\",\"article_前端框架_vue_vue3.0初体验.md\":\"x5fy6mTH\",\"article_前端框架_vue_vue系列之1-概览.md\":\"g5HFtvap\",\"article_前端框架_vue_vue系列之2-使用.md\":\"BWeZL1Tu\",\"article_前端框架_vue_vue系列之3-周边工具.md\":\"DDza6K_X\",\"article_前端框架_vue_vue系列之4-原理.md\":\"B_rlp2ZV\",\"article_前端框架_vue_vue系列之5-常见问题.md\":\"DgCY2Hge\",\"article_前端框架_vue_vue系列之6-vue3.md\":\"K7RtI_Dh\",\"article_前端框架_vue_vue系列之7-toyvue.md\":\"BNHNIJ2g\",\"article_前端框架_vue_vue系列之8-插件_组件化.md\":\"DCNsT0zD\",\"article_前端框架_webpack.md\":\"CCLAuv_D\",\"article_前端框架_webpack_webpack.md\":\"8aou45U1\",\"article_前端框架_webpack_webpack分享.md\":\"CsSdg2sN\",\"article_前端框架_webpack_webpack常见问题.md\":\"CYG3tBPE\",\"article_前端框架_总览.md\":\"CkMjH27c\",\"article_前端自检_1-html_css.md\":\"C0Ybq-qO\",\"article_前端自检_2-javascript.md\":\"Dd9oBpRM\",\"article_前端自检_3-javascript-webapi.md\":\"DmnRt_8T\",\"article_前端自检_4-浏览器_http协议.md\":\"VgGdYJKH\",\"article_前端自检_5-框架_类库.md\":\"BckCs_Xr\",\"article_前端自检_前端测验题100道.md\":\"Bmkb5JyC\",\"article_前端自检_总览.md\":\"DZVOiLMl\",\"article_前端自检_查漏补缺.md\":\"CZ7wEEka\",\"article_前端面试_0-外包面试流程模版.md\":\"Y9oZO4JG\",\"article_前端面试_0-面试流程模版.md\":\"BSPRZ6oO\",\"article_前端面试_1-面试题库.md\":\"4VL_JdN5\",\"article_前端面试_2-面试题库-外包.md\":\"CABSJYCa\",\"article_前端面试_3-代码题.md\":\"D92XKLIV\",\"article_前端面试_4-算法题.md\":\"BCpDCpzO\",\"article_前端面试_外包面试_面试官-2022-11-01.md\":\"DSbkks6q\",\"article_前端面试_外包面试_面试官-2022-11-02.md\":\"Br3cWcuT\",\"article_前端面试_面试_面试官-2022-10-12.md\":\"6iHbuByC\",\"article_前端面试_面试_面试官-2022-10-25.md\":\"B0WIJlIq\",\"article_后端开发_node常见问题.md\":\"DUrXvElC\",\"article_后端开发_总览.md\":\"DCYVd6tn\",\"article_开发工具_git.md\":\"DSTSUI9r\",\"article_开发工具_总览.md\":\"B4YxCKaK\",\"article_开源项目_如何写自己的undercore.md\":\"BDR8Z1AK\",\"article_开源项目_总览.md\":\"BdEQuMB8\",\"article_数据结构与算法_总览.md\":\"Z6GOwmB-\",\"article_数据结构与算法_数据结构_二叉树_二叉树.md\":\"C3CPmwDP\",\"article_数据结构与算法_数据结构_哈希表_哈希表概览.md\":\"C71yUDnF\",\"article_数据结构与算法_数据结构_堆_堆.md\":\"RIEEyqEr\",\"article_数据结构与算法_数据结构_堆_堆的基本操作.md\":\"BtrdJ6HV\",\"article_数据结构与算法_数据结构_堆_数据流中的中位数.md\":\"CMO1BNYN\",\"article_数据结构与算法_数据结构_堆_最小的k个数.md\":\"Cve7Fbba\",\"article_数据结构与算法_数据结构_字符串_字符串概览.md\":\"Bbdt1IW8\",\"article_数据结构与算法_数据结构_字符串_字符串模板.md\":\"C57wFF8U\",\"article_数据结构与算法_数据结构_字符串_字符串的排列.md\":\"CvS8PdQN\",\"article_数据结构与算法_数据结构_字符串_字符串翻转.md\":\"aMZljYaH\",\"article_数据结构与算法_数据结构_字符串_字符流中第一个不重复的字符.md\":\"BGSv_gX1\",\"article_数据结构与算法_数据结构_字符串_无重复字符的最长子串.md\":\"Mzs-Zp9j\",\"article_数据结构与算法_数据结构_字符串_替换空格.md\":\"DDqSrXXv\",\"article_数据结构与算法_数据结构_字符串_最长公共前缀.md\":\"1SdBCfuU\",\"article_数据结构与算法_数据结构_字符串_正则表达式匹配.md\":\"g-ojwUvy\",\"article_数据结构与算法_数据结构_字符串_表示数值的字符串.md\":\"CFaXpTqY\",\"article_数据结构与算法_数据结构_数组_lru缓存机制.md\":\"CDZfY_qx\",\"article_数据结构与算法_数据结构_数组_三数之和.md\":\"DvwCXTwf\",\"article_数据结构与算法_数据结构_数组_两个数组的交集.md\":\"09ZLu2oB\",\"article_数据结构与算法_数据结构_数组_两数之和.md\":\"AIkqKIdv\",\"article_数据结构与算法_数据结构_数组_合并两个有序数组.md\":\"DwwhG4MD\",\"article_数据结构与算法_数据结构_数组_和为s的两个数字.md\":\"Dnw5WJAk\",\"article_数据结构与算法_数据结构_数组_和为s的连续正数序列.md\":\"BZfcQgtp\",\"article_数据结构与算法_数据结构_数组_四数之和.md\":\"CPyu3Aaj\",\"article_数据结构与算法_数据结构_数组_多个数组的交集.md\":\"CcuiLlth\",\"article_数据结构与算法_数据结构_数组_扑克牌顺子.md\":\"f-aSCs3T\",\"article_数据结构与算法_数据结构_数组_数组中出现次数超过数组长度一半的数字.md\":\"CDs4y6XT\",\"article_数据结构与算法_数据结构_数组_数组中的第k个最大元素.md\":\"DvIaWNd3\",\"article_数据结构与算法_数据结构_数组_数组中重复的数字.md\":\"DnaXu25x\",\"article_数据结构与算法_数据结构_数组_数组合并排序.md\":\"BxnjDAlK\",\"article_数据结构与算法_数据结构_数组_数组扁平化、去重、排序.md\":\"p5w5Di77\",\"article_数据结构与算法_数据结构_数组_数组概览.md\":\"BNJcJZWT\",\"article_数据结构与算法_数据结构_数组_构建乘积数组.md\":\"Bn6msRJw\",\"article_数据结构与算法_数据结构_数组_第一个只出现一次的字符.md\":\"CI_3K2gN\",\"article_数据结构与算法_数据结构_数组_调整数组顺序使奇数位于偶数前面.md\":\"BascopC4\",\"article_数据结构与算法_数据结构_数组_连续子数组的最大和.md\":\"C5TnXhND\",\"article_数据结构与算法_数据结构_数组_顺时针打印矩阵.md\":\"C7tXAd3Z\",\"article_数据结构与算法_数据结构_栈和队列_包含min函数的栈.md\":\"uUpIRfE_\",\"article_数据结构与算法_数据结构_栈和队列_实现优先队列.md\":\"BsP3uUVo\",\"article_数据结构与算法_数据结构_栈和队列_无重复字符的最长子串.md\":\"CWqxIU-B\",\"article_数据结构与算法_数据结构_栈和队列_有效的括号.md\":\"Dyx58DlQ\",\"article_数据结构与算法_数据结构_栈和队列_栈和队列概览.md\":\"DcwXCVUr\",\"article_数据结构与算法_数据结构_栈和队列_栈的压入弹出序列.md\":\"r68L_hU2\",\"article_数据结构与算法_数据结构_栈和队列_滑动窗口的最大值.md\":\"DPp1053D\",\"article_数据结构与算法_数据结构_栈和队列_用两个栈实现队列.md\":\"vribMAqN\",\"article_数据结构与算法_数据结构_栈和队列_翻转字符串里的单词.md\":\"vrc7D7hW\",\"article_数据结构与算法_数据结构_链表_141-环形链表.md\":\"C3hqo8VZ\",\"article_数据结构与算法_数据结构_链表_234-回文链表.md\":\"Zj7CQKx9\",\"article_数据结构与算法_数据结构_链表_83-删除链表中的重复节点.md\":\"DyR0YQy3\",\"article_数据结构与算法_数据结构_链表_两个链表的公共节点.md\":\"CeNX4s-r\",\"article_数据结构与算法_数据结构_链表_从尾到头打印链表.md\":\"D8DkkJ5d\",\"article_数据结构与算法_数据结构_链表_删除链表中的节点.md\":\"hd-KXT8j\",\"article_数据结构与算法_数据结构_链表_反转链表.md\":\"DjcS9lvs\",\"article_数据结构与算法_数据结构_链表_复杂链表的复制.md\":\"DN3ghgBN\",\"article_数据结构与算法_数据结构_链表_扁平化多级双向链表.md\":\"BQ0K_-aZ\",\"article_数据结构与算法_数据结构_链表_相交链表.md\":\"DiojmVYV\",\"article_数据结构与算法_数据结构_链表_链表倒数第k个节点.md\":\"nxPE4TcB\",\"article_数据结构与算法_数据结构_链表_链表概览.md\":\"0ZjN85k_\",\"article_数据结构与算法_数据结构_链表_链表环的入口节点.md\":\"Fth9sB1S\",\"article_数据结构与算法_算法_排序_冒泡排序.md\":\"Bcm-eaOW\",\"article_数据结构与算法_算法_排序_快速排序.md\":\"DEUE8nwF\",\"article_数据结构与算法_算法_排序_排序概览.md\":\"R7a4NZF-\",\"article_数据结构与算法_算法_排序_插入排序.md\":\"DztCq62U\",\"article_数据结构与算法_算法_递归_数字反转.md\":\"DqqxHZ2i\",\"article_数据结构与算法_算法_递归_斐波拉契数列.md\":\"Dqoft6di\",\"article_数据结构与算法_算法_递归_汉诺塔.md\":\"DsoUswU9\",\"article_数据结构与算法_算法_递归_电影院.md\":\"y8iQsx_u\",\"article_数据结构与算法_算法_递归_递归概览.md\":\"CKRvlUqH\",\"article_数据结构与算法_算法_递归_阶乘.md\":\"DHGOp7I7\",\"article_架构师课程_jay-cli脚手架.md\":\"8MY_-6n6\",\"article_架构师课程_week1-笔记.md\":\"Q6q-1xfn\",\"article_架构师课程_week2-笔记.md\":\"BhavJGvF\",\"article_架构师课程_week2_基本1-脚手架原理.md\":\"CpiSGylI\",\"article_架构师课程_week2_基本2-基于lerna搭建脚手架.md\":\"BwH-pV9E\",\"article_架构师课程_week2_进阶1-yargs api和开发流程.md\":\"B7nsl0Ct\",\"article_架构师课程_week2_进阶2-lerna原理.md\":\"B-irWeSA\",\"article_架构师课程_week2_进阶3-import-local和require.resolve原理.md\":\"C1HAweCS\",\"article_架构师课程_week3-笔记.md\":\"CzsVrD3H\",\"article_架构师课程_week3_基本1-绘制脚手架架构图.md\":\"CIYiXVTX\",\"article_架构师课程_week3_基本2-使用command搭建脚手架.md\":\"CLRtRrwV\",\"article_架构师课程_week3_进阶1-在node中支持esmodule.md\":\"BLOb4q_o\",\"article_架构师课程_week4-笔记.md\":\"BnQlL4Ah\",\"article_架构师课程_week4_进阶：尝试分析node多进程execsyncexecfilesyncspawnsync源码.md\":\"C2iBnmUx\",\"article_架构师课程_week5-笔记.md\":\"B1J9be_l\",\"article_架构师课程_week6-笔记.md\":\"DIzuhNDG\",\"article_架构师课程_任务总览.md\":\"C_SE_ZK5\",\"article_架构师课程_脚手架实现调研.md\":\"BVdxiHdF\",\"article_源码解析_underscore_内部函数 cb 和 optimizecb.md\":\"D2WH3dcF\",\"article_源码解析_underscore_如何写一个自己的underscore.md\":\"DkInFiNJ\",\"article_源码解析_underscore_链式调用.md\":\"BFOvtcx2\",\"article_源码解析_vue-cli源码解析.md\":\"TO7wmOaz\",\"article_源码解析_总览.md\":\"CO_KsfR9\",\"article_电脑技术_npm-vs-yarn.md\":\"DJzPvLIX\",\"article_电脑技术_【旧mac迁移到新mac】.md\":\"vyVEZc9f\",\"article_碎片知识_前端知识点拾遗.md\":\"BixOuVq4\",\"article_碎片知识_经验总结-获取元素大小.md\":\"PF8gbfXl\",\"article_综合_【自检】前端知识清单.md\":\"CD5noFnU\",\"article_综合_【自检】前端知识清单（附解答）.md\":\"DbnDb_EN\",\"article_综合_深度学习.md\":\"DHf9ty_r\",\"article_编译原理_如何创造一门编程语言.md\":\"pTE5oKih\",\"article_设计模式_总览.md\":\"D6z1kh6o\",\"article_面试题集_javascript.md\":\"bDEqlyc2\",\"index.md\":\"CjomGZni\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"前端AK君\",\"description\":\"系统性学习，打造完善的知识体系\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/imgs/logo.png\",\"lastUpdated\":{\"text\":\"上次更新\"},\"nav\":[],\"sidebar\":[{\"text\":\"JS进阶\",\"items\":[{\"text\":\"JS进阶系列\",\"link\":\"/article/前端基础/JS进阶/JS进阶系列\"},{\"text\":\"JS概览\",\"link\":\"/article/前端基础/JS进阶/JS概览\"},{\"text\":\"JS类型\",\"link\":\"/article/前端基础/JS进阶/JS类型\"},{\"text\":\"JS原型原型链\",\"link\":\"/article/前端基础/JS进阶/JS原型原型链\"},{\"text\":\"JS执行机制\",\"link\":\"/article/前端基础/JS进阶/JS执行机制\"},{\"text\":\"JS异步编程\",\"link\":\"/article/前端基础/JS进阶/JS异步编程\"},{\"text\":\"JS异步进阶\",\"link\":\"/article/前端基础/JS进阶/JS异步进阶\"},{\"text\":\"JS异常处理\",\"link\":\"/article/前端基础/JS进阶/JS异常处理\"},{\"text\":\"JS精选题集\",\"link\":\"/article/前端基础/JS进阶/JS精选题集\"},{\"text\":\"总览\",\"link\":\"/article/前端基础/JS编程/总览\"}],\"collapsed\":true},{\"text\":\"前端基础\",\"items\":[{\"text\":\"CSS-float的工作原理和流的破坏与保护\",\"link\":\"/article/前端基础/CSS/CSS-float的工作原理和流的破坏与保护\"},{\"text\":\"浏览器工作原理系列介绍\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列介绍\"},{\"text\":\"1-发展历史\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之1-发展历史\"},{\"text\":\"2-页面循环系统\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之2-页面循环系统\"},{\"text\":\"3-如何从URL到页面显示的\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之3-如何从URL到页面显示的？\"},{\"text\":\"4-如何进行性能优化\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之4-如何进行性能优化？\"},{\"text\":\"5-如何与服务器通讯\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之5-如何与服务器通讯？\"},{\"text\":\"6-如何保证浏览器安全\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之6-如何保证浏览器安全？\"},{\"text\":\"7-未来发展方向\",\"link\":\"/article/前端基础/浏览器/浏览器工作原理系列之7-未来发展方向？\"}],\"collapsed\":true},{\"text\":\"前端框架\",\"items\":[{\"text\":\"Vue系列之1-概览\",\"link\":\"/article/前端框架/vue/Vue系列之1-概览\"},{\"text\":\"Vue系列之2-使用\",\"link\":\"/article/前端框架/vue/Vue系列之2-使用\"},{\"text\":\"Vue系列之3-周边工具\",\"link\":\"/article/前端框架/vue/Vue系列之3-周边工具\"},{\"text\":\"Vue系列之4-原理\",\"link\":\"/article/前端框架/vue/Vue系列之4-原理\"},{\"text\":\"Vue系列之5-常见问题\",\"link\":\"/article/前端框架/vue/Vue系列之5-常见问题\"},{\"text\":\"Vue系列之6-Vue3\",\"link\":\"/article/前端框架/vue/Vue系列之6-Vue3\"},{\"text\":\"React系列之1-概览\",\"link\":\"/article/前端框架/react/React系列之1-概览\"},{\"text\":\"React系列之2-使用\",\"link\":\"/article/前端框架/react/React系列之2-使用\"},{\"text\":\"React系列之3-周边工具\",\"link\":\"/article/前端框架/react/React系列之3-周边工具\"},{\"text\":\"React系列之4-原理\",\"link\":\"/article/前端框架/react/React系列之4-原理\"},{\"text\":\"React系列之5-常见问题\",\"link\":\"/article/前端框架/react/React系列之5-常见问题\"},{\"text\":\"React系列之6-hooks\",\"link\":\"/article/前端框架/react/React系列之6-hooks\"},{\"text\":\"webpack\",\"link\":\"/article/前端框架/webpack/webpack\"},{\"text\":\"webpack分享\",\"link\":\"/article/前端框架/webpack/webpack分享\"}],\"collapsed\":true},{\"text\":\"数据结构与算法\",\"items\":[{\"text\":\"总览\",\"link\":\"/article/数据结构与算法/总览\"}],\"collapsed\":true},{\"text\":\"设计模式\",\"items\":[{\"text\":\"总览\",\"link\":\"/article/设计模式/总览\"}],\"collapsed\":true},{\"text\":\"前端自检\",\"items\":[{\"text\":\"总览\",\"link\":\"/article/前端自检/总览\"},{\"text\":\"【自检】前端知识清单\",\"link\":\"/article/综合/【自检】前端知识清单\"},{\"text\":\"【自检】前端知识清单（附解答）\",\"link\":\"/article/综合/【自检】前端知识清单（附解答）\"}],\"collapsed\":true}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/kongyajie/\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>